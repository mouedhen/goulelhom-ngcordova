<button type="button" class="btn btn-primary btn--floating" (click)="openModal(template)">
  <svg class="icon icon--bullhorn">
    <use xlink:href="/assets/icon/symbol-defs.svg#icon-bullhorn"></use>
  </svg>
</button>

<ng-template #template>
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">
        Write a petition
      </h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <form [formGroup]="petitionFormGroup" (ngSubmit)="addPost(petitionFormGroup.value)">
      <div class="modal-body">
        <div class="form-group">
          <label for="petitionNameInput">Name</label>
          <input formControlName="petitionName" name="petitionName" type="text" id="petitionNameInput" [class]="!petitionFormGroup.controls['petitionName'].valid && petitionFormGroup.controls['petitionName'].touched ? 'form-control is-invalid': 'form-control'">
          <div *ngIf="!petitionFormGroup.controls['petitionName'].valid && petitionFormGroup.controls['petitionName'].touched" class="invalid-feedback">
            Please enter your name.
          </div>
        </div>
        <div class="form-group">
          <label for="petitionPhoneNumberInput">Phone number</label>
          <input formControlName="petitionPhoneNumber" name="petitionPhoneNumber" type="tel" id="petitionPhoneNumberInput" class="form-control" aria-describedby="petitionPhoneNumberHelpBlock">
          <div id="petitionPhoneNumberHelpBlock" class="form-text text-muted">
            Valid phone number format (+216 01 123 581) or (01 123 581).
          </div>
        </div>
        <div class="form-group">
          <label for="petitionEmailInput">E-mail</label>
          <input formControlName="petitionEmail" name="petitionEmail" type="email" id="petitionEmailInput" [class]="!petitionFormGroup.controls['petitionEmail'].valid && petitionFormGroup.controls['petitionEmail'].touched ? 'form-control is-invalid': 'form-control'">
          <div *ngIf="!petitionFormGroup.controls['petitionEmail'].valid && petitionFormGroup.controls['petitionEmail'].touched" class="invalid-feedback">
            Please enter a valid e-mail.
          </div>
        </div>
        <div class="form-group">
          <label for="petitionAddressTextarea">Address</label>
          <textarea formControlName="petitionAddress" name="petitionAddress" id="petitionAddressTextarea" rows="3" style="resize: none; " class="form-control"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modalRef.hide()">
          <svg class="icon icon--bullhorn icon--m">
            <use xlink:href="/assets/icon/symbol-defs.svg#icon-cancel-circle"></use>
          </svg>
          Cancel
        </button>
        <button type="button" class="btn btn-primary" [disabled]="!petitionFormGroup.valid">
          <svg class="icon icon--bullhorn icon--m">
            <use xlink:href="/assets/icon/symbol-defs.svg#icon-next"></use>
          </svg>
          Next step
        </button>
      </div>
    </form>
  </div>
</ng-template>

